# PyNVR 전체 테스트 체크리스트

> 작성일: 2025-11-13
> 버전: 1.0
> 목적: PyNVR 시스템 전체 기능 테스트 및 품질 보증

## 목차
1. [환경 준비 체크리스트](#1-환경-준비-체크리스트)
2. [기본 기능 테스트](#2-기본-기능-테스트)
3. [스트리밍 기능 테스트](#3-스트리밍-기능-테스트)
4. [녹화 기능 테스트](#4-녹화-기능-테스트)
5. [재생 기능 테스트](#5-재생-기능-테스트)
6. [PTZ 제어 테스트](#6-ptz-제어-테스트)
7. [백업 기능 테스트](#7-백업-기능-테스트)
8. [설정 관리 테스트](#8-설정-관리-테스트)
9. [UI/UX 테스트](#9-uiux-테스트)
10. [시스템 모니터링 테스트](#10-시스템-모니터링-테스트)
11. [예외 상황 테스트](#11-예외-상황-테스트)
12. [성능 테스트](#12-성능-테스트)
13. [알려진 이슈 확인](#13-알려진-이슈-확인)

---

## 1. 환경 준비 체크리스트

### 1.1 의존성 설치 확인

#### Raspberry Pi / Linux
- [ ] GStreamer 1.0 설치 확인
  ```bash
  gst-launch-1.0 --version
  ```
- [ ] GStreamer 플러그인 설치 확인
  - [ ] gstreamer1.0-plugins-base
  - [ ] gstreamer1.0-plugins-good
  - [ ] gstreamer1.0-plugins-bad
  - [ ] gstreamer1.0-plugins-ugly
  - [ ] gstreamer1.0-libav
- [ ] 하드웨어 가속 지원 확인
  - [ ] Raspberry Pi 3 이하: `gstreamer1.0-omx-generic`
  - [ ] Raspberry Pi 4 이상: `libv4l-0`, `v4l-utils`
- [ ] Python GObject 바인딩 설치 확인
  - [ ] python3-gi
  - [ ] python3-gi-cairo
  - [ ] gir1.2-gstreamer-1.0

#### Windows
- [ ] GStreamer 설치 확인 (https://gstreamer.freedesktop.org/download/)
- [ ] GStreamer bin 디렉토리 PATH 등록 확인
- [ ] PyGObject 설치 확인

#### 공통
- [ ] Python 3.7+ 설치 확인
  ```bash
  python3 --version
  ```
- [ ] Python 패키지 설치 확인
  ```bash
  pip install -r requirements.txt
  ```
- [ ] PyQt5 설치 확인 (requirements.txt의 PyQt6를 PyQt5로 변경)

### 1.2 설정 파일 확인
- [ ] IT_RNVR.db 파일 존재 확인
- [ ] 설정 로드 테스트
  ```bash
  python _tests/test_config_loading.py
  ```
- [ ] 설정 보존 테스트
  ```bash
  python _tests/test_config_preservation.py
  ```
- [ ] 간단한 설정 검증
  ```bash
  python _tests/test_simple_config.py
  ```

### 1.3 디렉토리 구조 확인
- [ ] `recordings/` 디렉토리 생성 확인
- [ ] `logs/` 디렉토리 생성 확인
- [ ] 백업 디렉토리 접근 권한 확인 (설정된 경우)

---

## 2. 기본 기능 테스트

### 2.1 프로그램 시작/종료
- [ ] 일반 모드로 시작
  ```bash
  python main.py
  ```
- [ ] 디버그 모드로 시작
  ```bash
  python main.py --debug
  ```
- [ ] 커스텀 DB 경로로 시작
  ```bash
  python main.py --db custom.db
  ```
- [ ] 정상 종료 (X 버튼)
- [ ] 비정상 종료 시 다음 시작 시 복구 확인

### 2.2 로깅 시스템
- [ ] 콘솔 로그 출력 확인
- [ ] 파일 로그 생성 확인 (`logs/pynvr_YYYY-MM-DD.log`)
- [ ] 에러 로그 분리 생성 확인 (설정 시)
- [ ] JSON 구조화 로그 생성 확인 (설정 시)
- [ ] 로그 레벨 필터링 동작 확인
- [ ] 로그 로테이션 동작 확인
- [ ] 로그 보존 기간 적용 확인

### 2.3 카메라 연결
- [ ] 단일 카메라 연결 테스트
  ```bash
  python _tests/run_single_camera.py --debug
  ```
- [ ] 헤드리스 모드 연결 테스트
  ```bash
  python _tests/run_single_camera.py --headless
  ```
- [ ] 여러 카메라 동시 연결 테스트
- [ ] RTSP URL 형식 검증
  - [ ] `rtsp://username:password@ip:port/path`
  - [ ] 특수 문자 포함 비밀번호 처리
- [ ] 카메라 추가 (UI)
- [ ] 카메라 수정 (UI)
- [ ] 카메라 삭제 (UI)

### 2.4 GStreamer 파이프라인
- [ ] 파이프라인 생성 성공 확인
- [ ] 파이프라인 상태 변경 확인 (NULL → READY → PAUSED → PLAYING)
- [ ] 파이프라인 그래프 덤프 확인
  ```bash
  GST_DEBUG_DUMP_DOT_DIR=/tmp python main.py
  ```
- [ ] 버스 메시지 처리 확인
  - [ ] ERROR 메시지
  - [ ] WARNING 메시지
  - [ ] EOS 메시지
  - [ ] STATE_CHANGED 메시지

---

## 3. 스트리밍 기능 테스트

### 3.1 실시간 스트리밍
- [ ] RTSP 스트림 연결 확인
- [ ] 비디오 디스플레이 정상 출력 확인
- [ ] 저지연 스트리밍 확인 (< 500ms)
- [ ] 스트림 연속성 확인 (끊김 없음)

### 3.2 디코더 선택
- [ ] 하드웨어 디코더 사용 확인
  - [ ] Raspberry Pi 3: `omxh264dec`
  - [ ] Raspberry Pi 4+: `v4l2h264dec`
- [ ] 소프트웨어 디코더 폴백 확인 (`avdec_h264`)
- [ ] 디코더 오류 시 자동 전환 확인

### 3.3 비디오 변환
- [ ] 수평 플립 적용 확인 (`videoflip method=horizontal-flip`)
- [ ] 수직 플립 적용 확인 (`videoflip method=vertical-flip`)
- [ ] 180도 회전 확인 (`videoflip method=rotate-180`)
- [ ] 90도 시계방향 회전 확인 (`videorotate angle=90`)
- [ ] 설정 대소문자 무관 동작 확인 (Horizontal/horizontal/HORIZONTAL)

### 3.4 윈도우 핸들 관리
- [ ] 비디오 위젯 윈도우 핸들 할당 확인
- [ ] 핸들 재할당 시 500ms 딜레이 적용 확인
- [ ] Raspberry Pi X Window 핸들 검증 확인 (BadWindow 방지)
- [ ] 윈도우 리사이즈 시 비디오 스케일 조정 확인

### 3.5 파이프라인 모드 전환
- [ ] `STREAMING_ONLY` 모드 동작 확인
- [ ] `RECORDING_ONLY` 모드 동작 확인
- [ ] `BOTH` 모드 동작 확인
- [ ] 런타임 모드 전환 확인 (파이프라인 재생성 없이)
- [ ] Valve 제어 상태 확인 (`get_status()` 메소드)

---

## 4. 녹화 기능 테스트

### 4.1 수동 녹화
- [ ] 녹화 시작 버튼 동작 확인
- [ ] 녹화 중 표시 확인 (UI 인디케이터)
- [ ] 녹화 일시정지 동작 확인
- [ ] 녹화 재개 동작 확인
- [ ] 녹화 중지 버튼 동작 확인
- [ ] 녹화 중지 시 스트리밍 유지 확인

### 4.2 자동 녹화
- [ ] 카메라 연결 시 자동 녹화 시작 (`recording_enabled_start: true`)
- [ ] 자동 녹화 비활성화 시 동작 (`recording_enabled_start: false`)
- [ ] 프로그램 시작 시 자동 녹화 복원 확인

### 4.3 파일 저장
- [ ] 녹화 파일 생성 확인
  - [ ] 경로: `recordings/{camera_id}/{date}/`
  - [ ] 파일명: `{camera_id}_{timestamp}.mp4`
- [ ] MP4 파일 포맷 확인
- [ ] Fragment 기반 MP4 muxing 확인 (`fragment-duration`)
- [ ] 파일 메타데이터 확인 (moov atom 위치)

### 4.4 자동 파일 분할 (splitmuxsink)
- [ ] 시간 기반 분할 동작 확인 (`max-size-time`)
- [ ] 설정된 시간마다 새 파일 생성 확인
- [ ] 파일 전환 시 프레임 손실 없음 확인
- [ ] `format-location` 시그널 핸들러 동작 확인
- [ ] 분할된 파일들 재생 가능 확인

### 4.5 녹화 중단/재개
- [ ] 네트워크 끊김 시 녹화 중단 확인
- [ ] 재연결 시 새 파일로 녹화 시작 확인
- [ ] 파일 무결성 검증
  - [ ] 중단된 파일 재생 가능 여부
  - [ ] moov atom finalization 확인

### 4.6 녹화 설정
- [ ] 코덱 설정 적용 확인 (H.264, H.265)
- [ ] 비트레이트 설정 적용 확인
- [ ] 해상도 설정 적용 확인
- [ ] FPS 설정 적용 확인

### 4.7 테스트 스크립트
- [ ] 녹화 중지 테스트
  ```bash
  python _tests/test_recording_stop.py
  ```
- [ ] Valve 모드 전환 테스트
  ```bash
  python _tests/test_valve_mode_switch.py
  ```

---

## 5. 재생 기능 테스트

### 5.1 재생 컨트롤
- [ ] 파일 선택 및 재생 시작
- [ ] 재생 일시정지
- [ ] 재생 재개
- [ ] 재생 중지
- [ ] 재생 위치 시크 (타임라인 슬라이더)
- [ ] 재생 속도 조절
  - [ ] 0.5x
  - [ ] 1.0x (정상 속도)
  - [ ] 2.0x
  - [ ] 4.0x

### 5.2 파일 브라우저
- [ ] 녹화 파일 목록 표시
- [ ] 카메라별 필터링
- [ ] 날짜별 그룹핑
- [ ] 파일 크기 표시
- [ ] 녹화 시간 표시
- [ ] 파일 스캔 동작 확인
- [ ] 스캔 진행률 표시 확인
- [ ] "스캔 중..." 상태에서 멈춤 현상 없음 확인

### 5.3 재생 품질
- [ ] 비디오 출력 정상
- [ ] 오디오 출력 정상 (있는 경우)
- [ ] 프레임 드롭 없음
- [ ] 동기화 정상 (audio-video sync)

### 5.4 재생 위젯
- [ ] Dock 위젯 표시/숨기기
- [ ] 위젯 크기 조절
- [ ] 위젯 위치 이동 (docking)
- [ ] 재생 중 다른 파일 선택 시 동작

---

## 6. PTZ 제어 테스트

### 6.1 PTZ 카메라 설정
- [ ] PTZ 타입 선택 (HIK, ONVIF)
- [ ] PTZ 포트 설정
- [ ] PTZ 채널 설정
- [ ] 설정 저장 및 복원 확인

### 6.2 PTZ 제어 동작
- [ ] 카메라 선택 시 PTZ 컨트롤러 생성 확인
- [ ] Pan 제어
  - [ ] 왼쪽 이동
  - [ ] 오른쪽 이동
- [ ] Tilt 제어
  - [ ] 위쪽 이동
  - [ ] 아래쪽 이동
- [ ] Zoom 제어
  - [ ] Zoom In
  - [ ] Zoom Out
- [ ] 이동 속도 조절 확인

### 6.3 키보드 단축키 (PTZ)
- [ ] 카메라 선택 후 키 이벤트 동작 확인
- [ ] QApplication eventFilter 동작 확인
- [ ] 기본 키 매핑 동작 확인
  - [ ] V: Zoom In
  - [ ] B: Zoom Out
  - [ ] 방향키: Pan/Tilt
- [ ] 커스텀 키 매핑 설정 및 적용 확인
- [ ] 키 프레스/릴리즈 이벤트 처리 확인
- [ ] 하위 위젯에서 키 이벤트 가로채기 방지 확인

---

## 7. 백업 기능 테스트

### 7.1 백업 설정
- [ ] 백업 대상 경로 설정
- [ ] 백업 파일 검증 옵션 (MD5)
- [ ] 백업 후 원본 삭제 옵션

### 7.2 백업 실행
- [ ] 단일 파일 백업
- [ ] 다중 파일 백업
- [ ] 백업 진행률 표시 확인
- [ ] 백업 완료 확인
- [ ] 백업 실패 시 에러 처리

### 7.3 백업 검증
- [ ] MD5 해시 생성 확인
- [ ] 원본 파일과 백업 파일 해시 비교
- [ ] 검증 실패 시 처리
- [ ] 백업 후 원본 삭제 동작 확인 (옵션 활성화 시)

### 7.4 백업 다이얼로그
- [ ] 백업 대상 선택 UI
- [ ] 진행률 바 표시
- [ ] 취소 버튼 동작
- [ ] 완료 후 결과 메시지

---

## 8. 설정 관리 테스트

### 8.1 설정 다이얼로그
- [ ] 설정 다이얼로그 열기 (메뉴 또는 단축키)
- [ ] 모든 탭 접근 가능 확인
  - [ ] Basic
  - [ ] Cameras
  - [ ] Streaming
  - [ ] Recording
  - [ ] Storage
  - [ ] Backup
  - [ ] Performance
  - [ ] Hot Keys
  - [ ] PTZ Keys
  - [ ] Logging
- [ ] 탭 전환 동작 확인

### 8.2 Basic 설정 탭
- [ ] 앱 이름 표시 확인
- [ ] 버전 정보 표시 확인
- [ ] 테마 선택 (Dark/Light)
- [ ] 테마 변경 즉시 적용 확인

### 8.3 Cameras 설정 탭
- [ ] 카메라 목록 표시
- [ ] 카메라 추가 버튼
- [ ] 카메라 수정 버튼
- [ ] 카메라 삭제 버튼
- [ ] 카메라 다이얼로그 동작
  - [ ] 이름, RTSP URL, 사용자명, 비밀번호 입력
  - [ ] PTZ 설정 (타입, 포트, 채널)
  - [ ] 비디오 변환 설정 (Flip, Rotation)
  - [ ] 자동 녹화 시작 옵션

### 8.4 Streaming 설정 탭
- [ ] 버퍼 크기 설정
- [ ] 지연 시간 설정
- [ ] 연결 타임아웃 설정
- [ ] 재연결 설정

### 8.5 Recording 설정 탭
- [ ] 파일 포맷 선택 (MP4, MKV)
- [ ] 코덱 선택 (H.264, H.265)
- [ ] Fragment Duration 설정
- [ ] 파일 분할 시간 설정 (`max-size-time`)

### 8.6 Storage 설정 탭
- [ ] 녹화 파일 저장 경로 설정 (`storage.recording_path`)
- [ ] 경로 브라우저 동작
- [ ] 자동 정리 활성화/비활성화
- [ ] 최대 보존 기간 설정 (일)
- [ ] 최소 여유 공간 설정 (GB)
- [ ] 디스크 사용량 표시

### 8.7 Backup 설정 탭
- [ ] 백업 경로 설정
- [ ] 경로 브라우저 동작
- [ ] 검증 옵션 활성화/비활성화
- [ ] 백업 후 삭제 옵션

### 8.8 Performance 설정 탭
- [ ] CPU 사용률 임계값 설정
- [ ] 메모리 사용률 임계값 설정
- [ ] 온도 임계값 설정 (Raspberry Pi)
- [ ] 모니터링 간격 설정
- [ ] 현재 시스템 상태 표시

### 8.9 Hot Keys 설정 탭
- [ ] 메뉴 단축키 목록 표시
- [ ] 단축키 변경 (F1-F12, 특수 키)
- [ ] 중복 단축키 검사
- [ ] 설정 저장 및 즉시 적용

### 8.10 PTZ Keys 설정 탭
- [ ] PTZ 제어 키 매핑 표시
- [ ] 키 변경 (Zoom, Pan, Tilt)
- [ ] 중복 키 검사
- [ ] 설정 저장 및 즉시 적용

### 8.11 Logging 설정 탭
- [ ] 로깅 활성화/비활성화
- [ ] 로그 경로 설정
- [ ] 콘솔 로그 설정
  - [ ] 레벨 선택
  - [ ] 포맷 설정
  - [ ] 색상 활성화/비활성화
- [ ] 파일 로그 설정
  - [ ] 레벨 선택
  - [ ] 파일명 패턴
  - [ ] 로테이션 설정
  - [ ] 보존 기간
  - [ ] 압축 옵션
- [ ] 에러 로그 설정 (별도 파일)
- [ ] JSON 로그 설정

### 8.12 설정 저장 및 로드
- [ ] 설정 변경 후 저장 버튼 동작
- [ ] 설정 취소 버튼 동작
- [ ] 프로그램 종료 후 설정 보존 확인
- [ ] UI 상태 자동 저장 확인 (창 크기, 위치, dock 상태)
- [ ] ConfigManager 싱글톤 패턴 동작 확인

---

## 9. UI/UX 테스트

### 9.1 메인 윈도우
- [ ] 창 크기 조절
- [ ] 창 최대화/최소화
- [ ] 전체화면 모드
- [ ] 창 위치 저장 및 복원
- [ ] 창 크기 저장 및 복원

### 9.2 그리드 뷰
- [ ] 1x1 레이아웃 표시
- [ ] 비디오 위젯 표시
- [ ] 카메라 선택 시 비디오 표시
- [ ] 레이아웃 변경 시 스트리밍 중단 없음 확인
- [ ] 레이아웃 변경 시 윈도우 핸들 재할당 확인

### 9.3 Dock 위젯
- [ ] 카메라 리스트 위젯
  - [ ] 표시/숨기기
  - [ ] Dock 위치 변경
  - [ ] 크기 조절
- [ ] 녹화 컨트롤 위젯
  - [ ] 표시/숨기기
  - [ ] Dock 위치 변경
  - [ ] 크기 조절
- [ ] 재생 위젯
  - [ ] 표시/숨기기
  - [ ] Dock 위치 변경
  - [ ] 크기 조절
- [ ] Dock 상태 저장 및 복원

### 9.4 테마
- [ ] Dark 테마 적용
- [ ] Light 테마 적용
- [ ] 테마 전환 시 즉시 반영
- [ ] 모든 위젯 테마 일관성 확인

### 9.5 로그 뷰어
- [ ] 로그 뷰어 다이얼로그 열기
- [ ] 실시간 로그 업데이트 확인
- [ ] 로그 레벨 필터링
- [ ] 로그 검색 기능
- [ ] 로그 클리어 버튼

### 9.6 삭제 다이얼로그
- [ ] 파일 삭제 다이얼로그 열기
- [ ] 비동기 삭제 동작 확인
- [ ] 진행률 표시
- [ ] 취소 버튼 동작
- [ ] 삭제 완료 후 파일 목록 갱신

---

## 10. 시스템 모니터링 테스트

### 10.1 시스템 상태
- [ ] CPU 사용률 모니터링
- [ ] 메모리 사용률 모니터링
- [ ] 디스크 사용률 모니터링
- [ ] 온도 모니터링 (Raspberry Pi)
- [ ] 시스템 상태 주기적 업데이트

### 10.2 알림 및 경고
- [ ] CPU 임계값 초과 시 경고
- [ ] 메모리 임계값 초과 시 경고
- [ ] 디스크 공간 부족 시 경고
- [ ] 온도 임계값 초과 시 경고
- [ ] 경고 메시지 표시 확인

### 10.3 스토리지 관리
- [ ] 자동 정리 동작 확인
  - [ ] 오래된 파일 삭제 (설정 기간 초과)
  - [ ] 디스크 공간 부족 시 오래된 파일부터 삭제
- [ ] 수동 정리 버튼 동작
- [ ] 정리 로그 기록 확인

### 10.4 메모리 모니터링
- [ ] 메모리 사용량 추적
  ```bash
  python _tests/memory_monitor.py
  ```
- [ ] 메모리 누수 감지
- [ ] 장시간 실행 후 메모리 안정성 확인

---

## 11. 예외 상황 테스트

### 11.1 네트워크 문제
- [ ] 네트워크 연결 끊김
  - [ ] 카메라 상태 DISCONNECTED로 변경
  - [ ] 자동 재연결 시도
  - [ ] 재연결 성공 시 CONNECTED 상태 복원
- [ ] RTSP URL 접근 불가
  - [ ] 타임아웃 처리
  - [ ] 에러 메시지 표시
- [ ] 네트워크 지연 (고지연)
  - [ ] 버퍼링 처리
  - [ ] 스트리밍 안정성 확인
- [ ] 재연결 시 녹화 파일 분할 확인
- [ ] 재연결 후 스트리밍 자동 재개 확인

### 11.2 인증 오류
- [ ] 잘못된 사용자명/비밀번호
  - [ ] 401 에러 처리
  - [ ] 에러 메시지 표시
- [ ] 특수 문자 포함 비밀번호
  - [ ] URL 인코딩 확인
  - [ ] 연결 성공 확인

### 11.3 카메라 오류
- [ ] 카메라 오프라인
  - [ ] 재연결 시도
  - [ ] 최대 재시도 횟수 확인
- [ ] 스트림 형식 불일치
  - [ ] 디코더 오류 처리
  - [ ] 대체 디코더 시도
- [ ] 카메라 재부팅
  - [ ] 연결 끊김 감지
  - [ ] 재연결 및 복원

### 11.4 파일 시스템 오류
- [ ] 디스크 공간 부족
  - [ ] 녹화 중단
  - [ ] 경고 메시지 표시
  - [ ] 자동 정리 트리거 (활성화 시)
- [ ] 녹화 경로 접근 불가
  - [ ] 에러 메시지 표시
  - [ ] 녹화 시작 실패 처리
- [ ] 파일 쓰기 권한 없음
  - [ ] Permission 에러 처리
  - [ ] 에러 메시지 표시
- [ ] USB 저장소 재연결 시 PermissionError 방지 확인

### 11.5 설정 오류
- [ ] IT_RNVR.db 파일 손상
  - [ ] 기본 설정으로 복원
  - [ ] 경고 메시지 표시
- [ ] 잘못된 설정 값
  - [ ] 검증 및 기본값 사용
  - [ ] 에러 메시지 표시
- [ ] 설정 마이그레이션 (JSON → SQLite)
  - [ ] 기존 JSON 설정 가져오기
  - [ ] DB 스키마 업데이트

### 11.6 GStreamer 오류
- [ ] 파이프라인 생성 실패
  - [ ] 에러 로그 기록
  - [ ] 재시도 또는 폴백
- [ ] 플러그인 누락
  - [ ] 에러 메시지 표시
  - [ ] 대체 플러그인 시도
- [ ] 하드웨어 가속 실패
  - [ ] 소프트웨어 디코더로 폴백
  - [ ] 성능 경고 표시

### 11.7 UI 오류
- [ ] 윈도우 핸들 할당 실패
  - [ ] 헤드리스 모드로 전환
  - [ ] 녹화 기능 유지
- [ ] X Window BadWindow 에러 (Raspberry Pi)
  - [ ] 윈도우 핸들 검증
  - [ ] 비디오 출력 비활성화

### 11.8 PTZ 오류
- [ ] PTZ 지원하지 않는 카메라
  - [ ] PTZ 컨트롤러 생성 건너뛰기
  - [ ] 에러 없이 처리
- [ ] PTZ 명령 실패
  - [ ] 에러 로그 기록
  - [ ] UI 피드백 표시

---

## 12. 성능 테스트

### 12.1 CPU 사용률
- [ ] 스트리밍만 활성화 시 CPU 사용률 측정
- [ ] 녹화만 활성화 시 CPU 사용률 측정
- [ ] 스트리밍 + 녹화 동시 시 CPU 사용률 측정
- [ ] 통합 파이프라인 vs 분리 파이프라인 비교 (~50% 절감 확인)
- [ ] 다중 카메라 동시 처리 시 CPU 사용률

### 12.2 메모리 사용량
- [ ] 프로그램 시작 시 초기 메모리
- [ ] 스트리밍 활성화 후 메모리 증가량
- [ ] 녹화 활성화 후 메모리 증가량
- [ ] 장시간 실행 시 메모리 누수 없음 확인 (24시간+)
- [ ] 메모리 사용량 그래프 안정성

### 12.3 디스크 I/O
- [ ] 녹화 중 디스크 쓰기 속도
- [ ] Fragment MP4 muxing I/O 효율성
- [ ] 파일 분할 시 I/O 부하
- [ ] 다중 카메라 동시 녹화 시 I/O 포화 확인

### 12.4 네트워크 대역폭
- [ ] RTSP 스트림 대역폭 사용량
- [ ] 다중 카메라 네트워크 부하
- [ ] 네트워크 포화 시 동작 확인

### 12.5 지연 시간 (Latency)
- [ ] 스트림 지연 측정 (RTSP → 화면 출력)
- [ ] 목표: < 500ms
- [ ] PTZ 명령 응답 시간
- [ ] UI 반응 속도

### 12.6 플랫폼별 성능
- [ ] Raspberry Pi 3
  - [ ] OMX 하드웨어 가속 동작
  - [ ] 단일/다중 카메라 성능
- [ ] Raspberry Pi 4+
  - [ ] V4L2 하드웨어 가속 동작
  - [ ] 단일/다중 카메라 성능
- [ ] Linux (Ubuntu/Debian)
  - [ ] 소프트웨어 디코더 성능
- [ ] Windows
  - [ ] 소프트웨어 디코더 성능

---

## 13. 알려진 이슈 확인

### 13.1 수동 녹화 종료 시 파일 재생 불가 (Active Issue)
- [ ] 문제 재현 확인
  - [ ] 수동으로 녹화 중지
  - [ ] 생성된 파일 재생 시도
  - [ ] moov atom 누락 확인
- [ ] 임시 해결방법 테스트
  - [ ] 자동 파일 분할 사용 (splitmuxsink max-size-time)
  - [ ] 자동 분할 후 녹화 중지
  - [ ] 파일 재생 가능 확인
- [ ] 진행 중인 해결 방법 확인
  - [ ] splitmuxsink 상태 변경 방식
  - [ ] 파일 강제 finalization

### 13.2 녹화 중지 시 스트리밍 중단 (Active Issue)
- [ ] 문제 재현 확인
  - [ ] 스트리밍 + 녹화 동시 실행
  - [ ] 녹화만 중지
  - [ ] 스트리밍도 중지되는지 확인
- [ ] 해결 방법 적용 확인
  - [ ] splitmuxsink READY 상태 변경 방식
  - [ ] EOS 이벤트 전파 방지 확인

### 13.3 Raspberry Pi X Window Error (Resolved: 2025-11-05)
- [ ] 수정 사항 확인
  - [ ] 윈도우 핸들 검증 로직 존재
  - [ ] BadWindow 에러 발생하지 않음
  - [ ] 헤드리스 모드로 폴백 동작

### 13.4 Video Transform Case Sensitivity (Resolved: 2025-11-05)
- [ ] 수정 사항 확인
  - [ ] .lower() 정규화 적용
  - [ ] 대소문자 무관하게 동작

### 13.5 PTZ Zoom Key Event (Resolved: 2025-11-12)
- [ ] 수정 사항 확인
  - [ ] QApplication eventFilter 설치
  - [ ] 모든 키보드 이벤트 캡처
  - [ ] 하위 위젯 가로채기 방지

### 13.6 PyQt5/PyQt6 Dependency Mismatch
- [ ] requirements.txt 확인
  - [ ] PyQt6 명시됨 (잘못됨)
  - [ ] 실제 코드는 PyQt5 사용
- [ ] 설치 시 PyQt5로 변경 확인
- [ ] 코드 import 문 확인 (`from PyQt5.QtWidgets import ...`)

---

## 테스트 환경 정보

테스트 수행 시 아래 정보를 기록하세요:

- **테스트 일자**: _______________
- **테스트 수행자**: _______________
- **플랫폼**:
  - [ ] Raspberry Pi 3
  - [ ] Raspberry Pi 4
  - [ ] Raspberry Pi Zero 2W
  - [ ] Ubuntu 20.04+
  - [ ] Debian 11+
  - [ ] Windows
- **GStreamer 버전**: _______________
- **Python 버전**: _______________
- **PyQt 버전**: _______________
- **프로그램 버전**: _______________
- **테스트 카메라 모델**: _______________
- **네트워크 환경**: _______________

---

## 테스트 결과 요약

### 통과율
- **전체 항목**: ___ / ___
- **필수 항목**: ___ / ___
- **선택 항목**: ___ / ___

### 발견된 이슈
1.
2.
3.

### 권장 사항
1.
2.
3.

### 테스트 결론
- [ ] 배포 준비 완료
- [ ] 일부 수정 필요
- [ ] 추가 테스트 필요
- [ ] 배포 불가

---

## 참고 문서

- `README.md`: 프로젝트 개요 및 설치 가이드
- `CLAUDE.md`: 개발 가이드 및 아키텍처
- `_doc/gst_pipeline_architecture.md`: GStreamer 파이프라인 아키텍처
- `_doc/unified_pipeline_branch_control.md`: 통합 파이프라인 제어 방식
- `_doc/db_migration_complete.md`: 데이터베이스 마이그레이션 문서
- `_doc/ptz_zoom_keypress_issue_fix.md`: PTZ 키보드 이벤트 수정
- `_doc/manual_recording_stop_playback_issue.md`: 수동 녹화 중지 이슈
- `_doc/recording_stop_affecting_streaming_fix.md`: 녹화 중지 시 스트리밍 영향 수정

---

**버전 히스토리**

- v1.0 (2025-11-13): 초기 체크리스트 작성
